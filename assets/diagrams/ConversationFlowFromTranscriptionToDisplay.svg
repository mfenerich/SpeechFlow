<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600">
  <rect width="947.734" height="600" fill="#f8f9fa" rx="10" ry="10" style=""></rect>
  <text x="450" y="35" font-family="Arial" font-size="22" font-weight="bold" text-anchor="middle" fill="#212529" style="white-space: pre;">
    Conversation Flow: From Transcription to Display
  </text>
  <rect x="50" y="60" width="152.122" height="49.461" rx="5" ry="5" fill="#fff3bf" stroke="#fcc419" stroke-width="2" style=""></rect>
  <text x="123.047" y="90" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#e67700" style="white-space: pre; font-size: 14px;">
    Transcription Service
  </text>
  <rect x="250" y="60" width="140" height="50" rx="5" ry="5" fill="#d3f9d8" stroke="#40c057" stroke-width="2"></rect>
  <text x="320" y="90" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#2b8a3e" style="white-space: pre;">
    Context Manager
  </text>
  <rect x="450" y="60" width="140" height="50" rx="5" ry="5" fill="#d0ebff" stroke="#339af0" stroke-width="2"></rect>
  <text x="520" y="90" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#1971c2" style="white-space: pre;">
    Chat Service
  </text>
  <rect x="650" y="60" width="140" height="50" rx="5" ry="5" fill="#f3d9fa" stroke="#ae3ec9" stroke-width="2"></rect>
  <text x="720" y="90" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#9c36b5" style="white-space: pre;">
    User Interface
  </text>
  <line x1="120" y1="110" x2="120" y2="570" stroke="#e67700" stroke-width="2" stroke-dasharray="5,5"></line>
  <line x1="320" y1="110" x2="320" y2="570" stroke="#2b8a3e" stroke-width="2" stroke-dasharray="5,5"></line>
  <line x1="520" y1="110" x2="520" y2="570" stroke="#1971c2" stroke-width="2" stroke-dasharray="5,5"></line>
  <line x1="720" y1="110" x2="720" y2="570" stroke="#9c36b5" stroke-width="2" stroke-dasharray="5,5"></line>
  <rect x="115" y="130" width="10" height="50" fill="#fff3bf" stroke="#fcc419" stroke-width="2"></rect>
  <rect x="115" y="230" width="10" height="50" fill="#fff3bf" stroke="#fcc419" stroke-width="2"></rect>
  <rect x="315" y="190" width="10" height="130" fill="#d3f9d8" stroke="#40c057" stroke-width="2"></rect>
  <rect x="315" y="390" width="10" height="50" fill="#d3f9d8" stroke="#40c057" stroke-width="2"></rect>
  <rect x="515" y="330" width="10" height="70" fill="#d0ebff" stroke="#339af0" stroke-width="2"></rect>
  <rect x="715" y="150" width="10" height="30" fill="#f3d9fa" stroke="#ae3ec9" stroke-width="2"></rect>
  <rect x="715" y="250" width="10" height="30" fill="#f3d9fa" stroke="#ae3ec9" stroke-width="2"></rect>
  <rect x="715" y="430" width="10" height="40" fill="#f3d9fa" stroke="#ae3ec9" stroke-width="2"></rect>
  <rect x="715" y="510" width="10" height="40" fill="#f3d9fa" stroke="#ae3ec9" stroke-width="2"></rect>
  <line x1="125" y1="150" x2="715" y2="150" stroke="#212529" stroke-width="1.5"></line>
  <polygon points="715,150 705,145 705,155" fill="#212529"></polygon>
  <text x="420" y="140" font-family="Arial" font-size="12" text-anchor="middle" fill="#495057" style="white-space: pre;">
    1. Send interim transcription chunk
  </text>
  <line x1="125" y1="190" x2="315" y2="190" stroke="#212529" stroke-width="1.5"></line>
  <polygon points="315,190 305,185 305,195" fill="#212529"></polygon>
  <text x="220" y="180" font-family="Arial" font-size="12" text-anchor="middle" fill="#495057" style="white-space: pre;">
    2. Complete transcription
  </text>
  <line x1="125" y1="250" x2="715" y2="250" stroke="#212529" stroke-width="1.5"></line>
  <polygon points="715,250 705,245 705,255" fill="#212529"></polygon>
  <text x="420" y="240" font-family="Arial" font-size="12" text-anchor="middle" fill="#495057" style="white-space: pre;">
    3. Send final transcription
  </text>
  <line x1="725" y1="280" x2="770" y2="280" stroke="#9c36b5" stroke-width="1.5" stroke-dasharray="3,2"></line>
  <polygon points="770,280 760,275 760,285" fill="#9c36b5"></polygon>
  <text x="753.824" y="284.102" font-family="Arial" font-size="12" text-anchor="start" fill="#9c36b5" style="white-space: pre; font-size: 12px;">
    Update transcription display
  </text>
  <line x1="325" y1="290" x2="370" y2="290" stroke="#2b8a3e" stroke-width="1.5" stroke-dasharray="3,2"></line>
  <polygon points="370,290 360,285 360,295" fill="#2b8a3e"></polygon>
  <text x="354.659" y="294.577" font-family="Arial" font-size="12" text-anchor="start" fill="#2b8a3e" style="white-space: pre; font-size: 12px;">
    Add to conversation history
  </text>
  <line x1="325" y1="330" x2="515" y2="330" stroke="#212529" stroke-width="1.5"></line>
  <polygon points="515,330 505,325 505,335" fill="#212529"></polygon>
  <text x="420" y="320" font-family="Arial" font-size="12" text-anchor="middle" fill="#495057" style="white-space: pre;">
    4. Send conversation context
  </text>
  <line x1="525" y1="350" x2="570" y2="350" stroke="#1971c2" stroke-width="1.5" stroke-dasharray="3,2"></line>
  <polygon points="570,350 560,345 560,355" fill="#1971c2"></polygon>
  <text x="558.365" y="354.427" font-family="Arial" font-size="12" text-anchor="start" fill="#1971c2" style="white-space: pre; font-size: 12px;">
    Generate AI response
  </text>
  <line x1="515" y1="390" x2="325" y2="390" stroke="#212529" stroke-width="1.5"></line>
  <polygon points="325,390 335,385 335,395" fill="#212529"></polygon>
  <text x="420" y="380" font-family="Arial" font-size="12" text-anchor="middle" fill="#495057" style="white-space: pre;">
    5. Return AI response
  </text>
  <line x1="325" y1="410" x2="370" y2="410" stroke="#2b8a3e" stroke-width="1.5" stroke-dasharray="3,2"></line>
  <polygon points="370,410 360,405 360,415" fill="#2b8a3e"></polygon>
  <text x="360.859" y="408.666" font-family="Arial" font-size="12" text-anchor="start" fill="#2b8a3e" style="white-space: pre; font-size: 12px;">
    Add response to conversation history
  </text>
  <line x1="325" y1="430" x2="715" y2="430" stroke="#212529" stroke-width="1.5"></line>
  <polygon points="715,430 705,425 705,435" fill="#212529"></polygon>
  <text x="520" y="420" font-family="Arial" font-size="12" text-anchor="middle" fill="#495057" style="white-space: pre;">
    6. Send AI response
  </text>
  <line x1="725" y1="450" x2="770" y2="450" stroke="#9c36b5" stroke-width="1.5" stroke-dasharray="3,2"></line>
  <polygon points="770,450 760,445 760,455" fill="#9c36b5"></polygon>
  <text x="756.791" y="453.671" font-family="Arial" font-size="12" text-anchor="start" fill="#9c36b5" style="white-space: pre; font-size: 12px;">
    Show "AI is thinking" animation
  </text>
  <line x1="725" y1="510" x2="770" y2="510" stroke="#9c36b5" stroke-width="1.5" stroke-dasharray="3,2"></line>
  <polygon points="770,510 760,505 760,515" fill="#9c36b5"></polygon>
  <text x="756.671" y="513.492" font-family="Arial" font-size="12" text-anchor="start" fill="#9c36b5" style="white-space: pre; font-size: 12px;">
    Display AI response
  </text>
  <line x1="725" y1="540" x2="770" y2="540" stroke="#9c36b5" stroke-width="1.5" stroke-dasharray="3,2"></line>
  <polygon points="770,540 760,535 760,545" fill="#9c36b5"></polygon>
  <text x="755.27" y="545.265" font-family="Arial" font-size="12" text-anchor="start" fill="#9c36b5" style="white-space: pre; font-size: 12px;">
    Update UI for next interaction
  </text>
  <rect x="50" y="150" width="65" height="20" rx="5" ry="5" fill="#fff" stroke="#868e96" stroke-width="1"></rect>
  <text x="82.5" y="164" font-family="Arial" font-size="10" text-anchor="middle" fill="#495057" style="white-space: pre;">t = 0ms</text>
  <rect x="50" y="190" width="65" height="20" rx="5" ry="5" fill="#fff" stroke="#868e96" stroke-width="1"></rect>
  <text x="82.5" y="204" font-family="Arial" font-size="10" text-anchor="middle" fill="#495057" style="white-space: pre;">t = 250ms</text>
  <rect x="50" y="330" width="65" height="20" rx="5" ry="5" fill="#fff" stroke="#868e96" stroke-width="1"></rect>
  <text x="82.5" y="344" font-family="Arial" font-size="10" text-anchor="middle" fill="#495057" style="white-space: pre;">t = 300ms</text>
  <rect x="50" y="390" width="65" height="20" rx="5" ry="5" fill="#fff" stroke="#868e96" stroke-width="1"></rect>
  <text x="82.5" y="404" font-family="Arial" font-size="10" text-anchor="middle" fill="#495057" style="white-space: pre;">t = 650ms</text>
  <rect x="50" y="510" width="65" height="20" rx="5" ry="5" fill="#fff" stroke="#868e96" stroke-width="1"></rect>
  <text x="82.5" y="524" font-family="Arial" font-size="10" text-anchor="middle" fill="#495057" style="white-space: pre;">t = 700ms</text>
  <rect x="150" y="500" width="180" height="60" rx="5" ry="5" fill="#fff" stroke="#868e96" stroke-width="1" stroke-dasharray="5,2"></rect>
  <text x="240" y="525" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#495057" style="white-space: pre;">
    Interim Results
  </text>
  <text x="240" y="545" font-family="Arial" font-size="10" text-anchor="middle" fill="#495057" style="white-space: pre;">
    Shown to user during transcription
  </text>
  <rect x="400" y="500" width="200" height="60" rx="5" ry="5" fill="#fff" stroke="#868e96" stroke-width="1" stroke-dasharray="5,2"></rect>
  <text x="500" y="525" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#495057" style="white-space: pre;">
    Context Management
  </text>
  <text x="500" y="545" font-family="Arial" font-size="10" text-anchor="middle" fill="#495057" style="white-space: pre;">
    Maintains conversation history for AI
  </text>
</svg>